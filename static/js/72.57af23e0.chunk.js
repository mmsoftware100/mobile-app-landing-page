"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[72],{72:function(e,r,n){n.r(r),n.d(r,{default:function(){return O}});var i=n(6907),a=n(4942),t=n(1413),o=n(9439),l=n(2880),s=n(8550),c=n(697),d=n(890),u=n(9164),h=n(3239),m=n(427),p=n(9434),v=n(7689),x=n(2791),g=n(5289),f=n(7123),Z=n(9157),j=n(1691),y=n(5661),b=n(6916),k=n(1397),_=n(6425),S=n(7114),C=n(8096),w=n(4925),P=n(8406),F=n(4387),I=n(7071),D=n(184);function M(){var e,r,n,i,M,O=(0,v.s0)(),q=(0,p.I0)(),W=(0,b.t)(),R=(0,v.UO)().id,T=(0,p.v9)(_.Xg),N=(0,p.v9)(_.BM),z=(0,x.useState)(N),A=(0,o.Z)(z,2),B=A[0],E=A[1],H=(0,x.useState)(!1),U=(0,o.Z)(H,2),V=U[0],K=U[1],L=(0,x.useState)({placement:0,shop_id:0,name:"",description:""}),G=(0,o.Z)(L,2),X=G[0],J=G[1],Q=(0,x.useState)({background_image:null,shop_image:null}),Y=(0,o.Z)(Q,2),$=Y[0],ee=(Y[1],(0,p.v9)(_._g)),re=(0,p.v9)(_.RF),ne=(0,p.v9)(_.FG),ie=(0,p.v9)(_.UH),ae=(0,p.v9)(_.df),te=((0,p.v9)(_.vc),(0,p.v9)(k.Gu)),oe=function(e){var r=e.target,n=r.name,i=r.value;console.log({name:n,value:i}),"category_id"===n&&E(T.find((function(e){return e.id===i})).menus),q((0,_.zS)({name:n,value:i})),J((0,t.Z)((0,t.Z)({},X),{},(0,a.Z)({},n,i)))},le=function(e,r){if(q((0,_.pV)("idle")),console.log("id is "+e),console.log("access_token is "+r),0!==e){var n=new FormData;n.append("access_token",r),n.append("id",e),q((0,S.kk)(n))}K(!1)};return(0,x.useEffect)((function(){"succeeded"===ee&&(q((0,_.pV)("idle")),O(-1))}),[ee]),(0,x.useEffect)((function(){"succeeded"===re&&(q((0,_.LB)("idle")),W.back())}),[re]),(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(u.Z,{component:"main",maxWidth:"xs",children:[(0,D.jsxs)(c.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,D.jsx)(d.Z,{component:"h1",variant:"h5",children:"Item Detail"}),(0,D.jsxs)(c.Z,{component:"form",onSubmit:function(e){console.log(e),e.preventDefault();var r={};if(console.log(r),Object.keys(r).length>0)q((0,_.An)(r));else{q((0,_.An)({}));var n=new FormData(e.target);void 0!==$.background_image&&n.append("background_image",$.background_image),q((0,S.bI)(n))}},noValidate:!0,sx:{mt:1},children:[(0,D.jsx)("input",{type:"hidden",value:te,name:"access_token",placeholder:"Hidden Input"}),(0,D.jsx)("input",{type:"hidden",value:ae.menu_id,name:"menu_id",placeholder:"Hidden Input for Selected Menu Id"}),(0,D.jsx)("input",{type:"hidden",value:ae.id,name:"id",placeholder:"Hidden Input for Selected Menu Id"}),(0,D.jsx)("input",{type:"hidden",value:0,name:"placement",placeholder:"Item Placement"}),(0,D.jsx)("input",{type:"hidden",value:1,name:"is_active",placeholder:"Active Flag"}),(0,D.jsx)("input",{type:"hidden",value:0,name:"visit_count",placeholder:"Visit Count"}),(0,D.jsx)("input",{type:"hidden",value:0,name:"old_price",placeholder:"Old Price"}),(0,D.jsxs)(C.Z,{fullWidth:!0,children:[(0,D.jsx)(w.Z,{id:"category-select",children:"Category"}),(0,D.jsx)(P.Z,{autoFocus:!0,labelId:"category-select",id:"category-select",value:void 0===X.category_id?null===ae||void 0===ae||null===(e=ae.menu)||void 0===e?void 0:e.category_id:X.category_id,label:"Category",name:"category_id",onChange:oe,error:ie.hasOwnProperty("category_id"),helperText:ie.category_id,children:T.map((function(e){return(0,D.jsx)(F.Z,{value:e.id,children:e.name},e.id)}))}),(0,D.jsx)(I.Z,{sx:{color:"red"},children:ie.category_id})]}),(0,D.jsx)("br",{}),(0,D.jsx)("br",{}),(0,D.jsxs)(C.Z,{fullWidth:!0,children:[(0,D.jsx)(w.Z,{id:"menu-select",children:"Menu"}),(0,D.jsx)(P.Z,{autoFocus:!0,labelId:"menu-select",id:"menu-select",value:void 0===X.menu_id?ae.menu_id:X.menu_id,label:"Menu",name:"menu_id",onChange:oe,error:ie.hasOwnProperty("menu_id"),helperText:ie.menu_id,children:B.map((function(e){return(0,D.jsx)(F.Z,{value:e.id,children:e.name})}))}),(0,D.jsx)(I.Z,{sx:{color:"red"},children:ie.menu_id})]}),(0,D.jsx)(s.Z,{id:"name",label:"Name",name:"name",value:null!==(r=ae.name)&&void 0!==r?r:"",onChange:oe,error:ie.hasOwnProperty("name"),helperText:ie.name,autoComplete:"name",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0}),(0,D.jsx)(s.Z,{multiline:!0,maxRows:3,minRows:3,id:"description",label:"Recipe's Detail",name:"description",value:null!==(n=ae.description)&&void 0!==n?n:"",autoComplete:"description",onChange:oe,error:ie.hasOwnProperty("description"),helperText:ie.description,margin:"normal",required:!0,fullWidth:!0}),(0,D.jsx)(s.Z,{name:"current_price",type:"number",id:"current_price",value:null!==(i=ae.current_price)&&void 0!==i?i:"",label:"Price",autoComplete:"current_price",onChange:oe,error:ie.hasOwnProperty("current_price"),helperText:ie.current_price,margin:"normal",required:!0,fullWidth:!0}),(0,D.jsx)("br",{}),(0,D.jsx)("br",{}),(0,D.jsxs)(C.Z,{fullWidth:!0,children:[(0,D.jsx)(w.Z,{id:"quantity",children:"Stock Status"}),(0,D.jsxs)(P.Z,{labelId:"quantity",id:"quantity",value:void 0===X.quantity?ae.quantity:X.undefined,label:"Stock Status",name:"quantity",onChange:oe,error:ie.hasOwnProperty("quantity"),helperText:ie.quantity,children:[(0,D.jsx)(F.Z,{value:1,children:"Available"}),(0,D.jsx)(F.Z,{value:0,children:"Unavailable"}),(0,D.jsx)(F.Z,{value:2,children:"Preorder"})]}),(0,D.jsx)(I.Z,{sx:{color:"red"},children:ie.category_id})]}),(0,D.jsxs)(d.Z,{children:["Item Image ",null===(M=$.background_image)||void 0===M?void 0:M.name]}),(0,D.jsx)("img",{src:ae.background_image_url}),(0,D.jsx)(s.Z,{type:"file",name:"background_image",onChange:oe,error:ie.hasOwnProperty("background_image"),helperText:ie.background_image,fullWidth:!0}),(0,D.jsxs)(c.Z,{sx:{m:1,position:"relative"},children:[(0,D.jsx)(l.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:"loading"===ee,children:"Update Menu"}),"loading"===ee&&(0,D.jsx)(h.Z,{size:24,sx:{color:m.Z[500],position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})]}),(0,D.jsxs)(g.Z,{open:"error"===ee,onClose:le,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,D.jsx)(y.Z,{id:"alert-dialog-title",children:"Error"}),(0,D.jsx)(Z.Z,{children:(0,D.jsx)(j.Z,{id:"alert-dialog-description",children:ne})}),(0,D.jsx)(f.Z,{children:(0,D.jsx)(l.Z,{onClick:le,autoFocus:!0,children:"OK"})})]}),(0,D.jsxs)(g.Z,{open:V,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,D.jsx)(y.Z,{id:"alert-dialog-title",children:"Delete Confirmation!"}),(0,D.jsx)(Z.Z,{children:(0,D.jsx)(j.Z,{id:"alert-dialog-description",children:"Are you sure to delete this category info?"})}),(0,D.jsxs)(f.Z,{children:[(0,D.jsx)(l.Z,{onClick:function(){return le(0)},autoFocus:!0,children:"Cancel"}),(0,D.jsx)(l.Z,{onClick:function(){return le(R,te)},autoFocus:!0,children:"OK"})]})]}),(0,D.jsxs)(g.Z,{open:"error"===re,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,D.jsx)(y.Z,{id:"alert-dialog-title",children:"Error!"}),(0,D.jsx)(Z.Z,{children:(0,D.jsx)(j.Z,{id:"alert-dialog-description",children:ne})}),(0,D.jsx)(f.Z,{children:(0,D.jsx)(l.Z,{onClick:function(){q((0,_.LB)("idle"))},autoFocus:!0,children:"OK"})})]})]})})}function O(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(i.ql,{children:(0,D.jsx)("title",{children:" Item | Detail "})}),(0,D.jsx)(M,{})]})}},3239:function(e,r,n){n.d(r,{Z:function(){return M}});var i=n(168),a=n(3366),t=n(7462),o=n(2791),l=n(3733),s=n(4419),c=n(2554),d=n(4036),u=n(1402),h=n(6934),m=n(5878),p=n(1217);function v(e){return(0,p.Z)("MuiCircularProgress",e)}(0,m.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var x,g,f,Z,j,y,b,k,_=n(184),S=["className","color","disableShrink","size","style","thickness","value","variant"],C=44,w=(0,c.F4)(j||(j=x||(x=(0,i.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),P=(0,c.F4)(y||(y=g||(g=(0,i.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),F=(0,h.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r[n.variant],r["color".concat((0,d.Z)(n.color))]]}})((function(e){var r=e.ownerState,n=e.theme;return(0,t.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:n.transitions.create("transform")},"inherit"!==r.color&&{color:(n.vars||n).palette[r.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,c.iv)(b||(b=f||(f=(0,i.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),w)})),I=(0,h.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,r){return r.svg}})({display:"block"}),D=(0,h.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,r){var n=e.ownerState;return[r.circle,r["circle".concat((0,d.Z)(n.variant))],n.disableShrink&&r.circleDisableShrink]}})((function(e){var r=e.ownerState,n=e.theme;return(0,t.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var r=e.ownerState;return"indeterminate"===r.variant&&!r.disableShrink&&(0,c.iv)(k||(k=Z||(Z=(0,i.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),P)})),M=o.forwardRef((function(e,r){var n=(0,u.Z)({props:e,name:"MuiCircularProgress"}),i=n.className,o=n.color,c=void 0===o?"primary":o,h=n.disableShrink,m=void 0!==h&&h,p=n.size,x=void 0===p?40:p,g=n.style,f=n.thickness,Z=void 0===f?3.6:f,j=n.value,y=void 0===j?0:j,b=n.variant,k=void 0===b?"indeterminate":b,w=(0,a.Z)(n,S),P=(0,t.Z)({},n,{color:c,disableShrink:m,size:x,thickness:Z,value:y,variant:k}),M=function(e){var r=e.classes,n=e.variant,i=e.color,a=e.disableShrink,t={root:["root",n,"color".concat((0,d.Z)(i))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(n)),a&&"circleDisableShrink"]};return(0,s.Z)(t,v,r)}(P),O={},q={},W={};if("determinate"===k){var R=2*Math.PI*((C-Z)/2);O.strokeDasharray=R.toFixed(3),W["aria-valuenow"]=Math.round(y),O.strokeDashoffset="".concat(((100-y)/100*R).toFixed(3),"px"),q.transform="rotate(-90deg)"}return(0,_.jsx)(F,(0,t.Z)({className:(0,l.Z)(M.root,i),style:(0,t.Z)({width:x,height:x},q,g),ownerState:P,ref:r,role:"progressbar"},W,w,{children:(0,_.jsx)(I,{className:M.svg,ownerState:P,viewBox:"".concat(22," ").concat(22," ").concat(C," ").concat(C),children:(0,_.jsx)(D,{className:M.circle,style:O,ownerState:P,cx:C,cy:C,r:(C-Z)/2,fill:"none",strokeWidth:Z})})}))}))}}]);
//# sourceMappingURL=72.57af23e0.chunk.js.map